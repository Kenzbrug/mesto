(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){var r=e.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=n}var n,r;return n=t,(r=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&e(n.prototype,r),t}(),n={inputSelector:".popup__form-input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(){document.addEventListener("mousedown",(function(e){e.target.classList.contains("popup_open")&&o.closePopup()}))},(n="_modalCloseClick")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t),this.popupForm=this._popup.querySelector(".popup__form"),this._popupButtonClose=this._popup.querySelector(".popup__close-button"),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"closePopup",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_open"),this.popupForm.reset()}},{key:"_handleEscClose",value:function(e){27===e.keyCode&&this.closePopup()}},{key:"setEventListener",value:function(){var e=this;this._modalCloseClick(),this._popupButtonClose.addEventListener("click",(function(t){e.closePopup()}))}}])&&r(t.prototype,n),e}();function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,n,r,o,i=(r=p,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(o){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function p(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=i.call(this,n))._handleFormSubmit=r,t._inputList=t._popup.querySelectorAll(".popup__form-input"),t._popupForm=t._popup.querySelector(".popup__form"),t._saveButton=t._popupForm.querySelector(".popup__save"),t}return t=p,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"closePopup",value:function(){this._popupForm.reset(),u(l(p.prototype),"closePopup",this).call(this,this._popup)}},{key:"renderLoading",value:function(e){e?this._saveButton.textContent="Сохранение...":"Delete-yes"==this._saveButton.id?this._saveButton.textContent="Да":"cardCreate"==this._saveButton.id?this._saveButton.textContent="Создать":this._saveButton.textContent="Сохранить"}},{key:"setSubmitCallback",value:function(e){this._handleFormSubmit=e}},{key:"setEventListeners",value:function(){var e=this;this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e.renderLoading(!0),e._handleFormSubmit(e._getInputValues())}))}}])&&a(t.prototype,n),p}(o);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){var n=t.nameSelector,r=t.infoSelector,o=t.infoAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileTitle=document.querySelector(n),this._profileDescription=document.querySelector(r),this._profileAvatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._profileTitle.textContent,link:this._profileDescription.textContent}}},{key:"setAvatar",value:function(e){this._profileAvatar.src=e.avatar}},{key:"setUserInfo",value:function(e){this._profileTitle.textContent=e.name,this._profileDescription.textContent=e.about,this._profileAvatar.src=e.avatar}}])&&f(t.prototype,n),e}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupSelector=e,t._popupOpenImg=document.querySelector(t._popupSelector),t._popupImg=t._popupOpenImg.querySelector(".popup__image"),t._popupTitle=t._popupOpenImg.querySelector(".popup__image-title"),t}return t=a,(n=[{key:"openPopup",value:function(e,t){this._popupImg.src=e,this._popupImg.alt=t,this._popupTitle.textContent=t,y(b(a.prototype),"openPopup",this).call(this)}}])&&d(t.prototype,n),a}(o);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){"popupProfileEdit"!=i._buttonNewPlace.id&&(i._buttonNewPlace.classList.add("popup__save_disabled"),i._buttonNewPlace.disabled=!0)},(r="_buttonOff")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formSelector=n}var t,n;return t=e,(n=[{key:"_setEventListeners",value:function(){var e=this;this._inputs=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputs.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"_toggleButtonState",value:function(){this._hasValidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_showInputError",value:function(e){this._errorElement=this._formElement.querySelector("#".concat(e.id,"-error")),e.classList.add(this._inputErrorClass),this._errorElement.classList.add(this._errorClass),this._errorElement.style.display="block",this._errorElement.textContent=e.validationMessage}},{key:"_hideInputError",value:function(e){this._errorElement=this._formElement.querySelector("#".concat(e.id,"-error")),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.style.display="none"}},{key:"_hasValidInput",value:function(){return this._inputs.some((function(e){return!e.validity.valid}))}},{key:"enableValidation",value:function(){var e=this;this._formElement=document.querySelector(this._formSelector),this._buttonNewPlace=this._formElement.querySelector(".popup__save-buttonOff"),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._buttonOff()})),this._setEventListeners()}}])&&g(t.prototype,n),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(){function e(t,n,r,o){var i=this,a=o.handleCardClick,u=o.handleLikeClick,c=o.handleDeleteIconCard;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"_invisibleDelteIcon",(function(){i._myId!==i._owner&&i._cardDeleteButton.classList.add("card__button-delete_invisible")})),C(this,"_openCardImg",(function(){i._cardImg.addEventListener("click",(function(){i._handleCardClick()}))})),C(this,"deleteCard",(function(){i._cardDeleteButton.closest(".card").remove()})),C(this,"_cardButtonLike",(function(){i._cardLikeButton.addEventListener("click",(function(){i._handleLikeClick(i)}))})),this._name=t.name,this._link=t.link,this._cardTemplate=n,this._handleCardClick=a,this._likes=t.likes,this._owner=t.owner._id,this._cardId=t._id,this._myId=r,this._handleLikeClick=u,this._handleDeleteIconCard=c}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._cardElement=this._cardTemplate.cloneNode(!0),this._cardElement}},{key:"renderLikes",value:function(){this._numberLike.textContent=this._likes.length,this.isLiked()?this._cardLikeButton.classList.add("card__button-like_active"):this._cardLikeButton.classList.remove("card__button-like_active")}},{key:"setLikesInfo",value:function(e){this._likes=e.likes,this.renderLikes()}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._myId}))}},{key:"_setEventListeners",value:function(){var e=this;this._cardDeleteButton.addEventListener("click",(function(){e._handleDeleteIconCard(e)}))}},{key:"getCard",value:function(){return this._element=this._getTemplate(),this._cardImg=this._element.querySelector(".card__img"),this._cardTitle=this._element.querySelector(".card__footer-title").textContent=this._name,this._cardDeleteButton=this._element.querySelector(".card__button-delete"),this._cardLikeButton=this._element.querySelector(".card__button-like"),this._numberLike=this._element.querySelector(".card__quantity-like"),this._cardImg.src=this._link,this._cardImg.alt=this._name,this._openCardImg(),this._cardButtonLike(),this.renderLikes(),this._invisibleDelteIcon(),this._setEventListeners(),this._element}}])&&E(t.prototype,n),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(e){return e.ok?e.json():Promise.reject(new Error("Ошибка: ".concat(e.status," - ").concat(e.statusText)))},I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._headers=t.headers,this._url=t.url,this._cohort=t.cohort}var t,n;return t=e,(n=[{key:"getTasks",value:function(){return fetch("".concat(this._url).concat(this._cohort,"cards"),{headers:this._headers}).then(P)}},{key:"createTask",value:function(e){return fetch("".concat(this._url).concat(this._cohort,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(P)}},{key:"changeUserInfo",value:function(e){return fetch("".concat(this._url).concat(this._cohort,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.profile_name,about:e.profile_occupation})}).then(P)}},{key:"getProfileInfo",value:function(){return fetch("".concat(this._url).concat(this._cohort,"users/me"),{headers:this._headers}).then(P)}},{key:"setDeleteCard",value:function(e){return fetch("".concat(this._url).concat(this._cohort,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(P)}},{key:"setLikeCard",value:function(e){return fetch("".concat(this._url).concat(this._cohort,"cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(P)}},{key:"setDeleteLikeCard",value:function(e){return fetch("".concat(this._url).concat(this._cohort,"cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(P)}},{key:"changeAvatar",value:function(e){return fetch("".concat(this._url).concat(this._cohort,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(P)}}])&&w(t.prototype,n),e}();function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}new S(n,"#popupFormProfile").enableValidation(),new S(n,"#popupFormCard").enableValidation(),new S(n,"#popupFormAvatar").enableValidation();var j,T=document.querySelector(".template-card").content.querySelector(".card"),q=document.querySelector(".cards__lists"),B=document.querySelector(".profile__button-change"),D=document.querySelector(".prifile__button-add"),A=document.querySelector(".profile__button-avatar-edit"),x=document.querySelector(".popup__form-input_type_name"),R=document.querySelector(".popup__form-input_type_occupation"),F=new I({url:"https://mesto.nomoreparties.co/v1/",cohort:"cohort-17/",headers:{authorization:"4b89edef-9be1-402e-a5c7-910a1504eece","Content-Type":"application/json"}});function V(e){return new L(e,T,j,{handleCardClick:function(){X.openPopup(e.link,e.name)},handleLikeClick:function(e){e.isLiked()?F.setDeleteLikeCard(e._cardId).then((function(t){e.setLikesInfo(t)})).catch((function(e){console.log(e)})):F.setLikeCard(e._cardId).then((function(t){e.setLikesInfo(t)})).catch((function(e){console.log(e)}))},handleDeleteIconCard:U})}var U=function(e){J.openPopup(),J.setSubmitCallback((function(){F.setDeleteCard(e._cardId).then((function(){e.deleteCard(),J.closePopup()})).catch((function(e){console.log(e)})).finally((function(){J.renderLoading(!1)}))}))},N=new h({nameSelector:".profile__name",infoSelector:".profile__occupation",infoAvatar:".profile__avatar-img"}),J=new p({popupSelector:".popup_type_delete-card"}),H=new t({renderer:function(e){var t=V(e).getCard();H.addItem(t)}},q),M=new p({popupSelector:".popup_type_add-card",handleFormSubmit:function(e){F.createTask(e).then((function(e){var t=V(e).getCard();H.addItem(t),M.closePopup()})).catch((function(e){console.log(e)})).finally((function(){M.renderLoading(!1)}))}}),z=new p({popupSelector:".popup_type_change-avatar",handleFormSubmit:function(e){F.changeAvatar(e).then((function(e){N.setAvatar(e),z.closePopup()})).catch((function(e){console.log(e)})).finally((function(){z.renderLoading(!1)}))}}),$=new p({popupSelector:".popup_type_edit-profile",handleFormSubmit:function(e){F.changeUserInfo(e).then((function(e){N.setUserInfo(e),$.closePopup()})).catch((function(e){console.log(e)})).finally((function(){$.renderLoading(!1)}))}}),G=new o(".popup_type_change-avatar"),K=new o(".popup_type_edit-profile"),Q=new o(".popup_type_add-card"),W=new o(".popup_type_delete-card"),X=new k(".popup_type_image");G.setEventListener(),K.setEventListener(),Q.setEventListener(),W.setEventListener(),X.setEventListener(),Promise.all([F.getProfileInfo(),F.getTasks()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];j=o._id,N.setUserInfo(o),H.renderItems(i)})).catch((function(e){return console.log(e)})),D.addEventListener("click",(function(){M.openPopup()})),A.addEventListener("click",(function(){z.openPopup()})),B.addEventListener("click",(function(){$.openPopup();var e=N.getUserInfo();x.value=e.name,R.value=e.link})),J.setEventListeners(),z.setEventListeners(),$.setEventListeners(),M.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOlsiU2VjdGlvbiIsImxpc3QiLCJyZW5kZXJlciIsInRoaXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsInByZXBlbmQiLCJkYXRhIiwiZm9yRWFjaCIsIml0ZW0iLCJzZXR0aW5ncyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY2xvc2VQb3B1cCIsIl9wb3B1cCIsInF1ZXJ5U2VsZWN0b3IiLCJwb3B1cEZvcm0iLCJfcG9wdXBCdXR0b25DbG9zZSIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwicmVzZXQiLCJldnQiLCJrZXlDb2RlIiwiX21vZGFsQ2xvc2VDbGljayIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9wb3B1cEZvcm0iLCJfc2F2ZUJ1dHRvbiIsIl9mb3JtVmFsdWVzIiwibmFtZSIsInZhbHVlIiwiaXNMb2FkaW5nIiwidGV4dENvbnRlbnQiLCJpZCIsImNhbGxiYWNrIiwicHJldmVudERlZmF1bHQiLCJyZW5kZXJMb2FkaW5nIiwiX2dldElucHV0VmFsdWVzIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJpbmZvU2VsZWN0b3IiLCJpbmZvQXZhdGFyIiwiX3Byb2ZpbGVUaXRsZSIsIl9wcm9maWxlRGVzY3JpcHRpb24iLCJfcHJvZmlsZUF2YXRhciIsImxpbmsiLCJmb3JtRGF0YSIsInNyYyIsImF2YXRhciIsImFib3V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBTZWxlY3RvciIsIl9wb3B1cE9wZW5JbWciLCJfcG9wdXBJbWciLCJfcG9wdXBUaXRsZSIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtU2VsZWN0b3IiLCJfYnV0dG9uTmV3UGxhY2UiLCJkaXNhYmxlZCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybVNlbGVjdG9yIiwiX2lucHV0cyIsIkFycmF5IiwiZnJvbSIsIl9mb3JtRWxlbWVudCIsIl9idXR0b25FbGVtZW50IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRFbGVtZW50IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oYXNWYWxpZElucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl9lcnJvckVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInNvbWUiLCJfYnV0dG9uT2ZmIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiQ2FyZCIsImNhcmRUZW1wbGF0ZSIsIm15SWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVEZWxldGVJY29uQ2FyZCIsIl9teUlkIiwiX293bmVyIiwiX2NhcmREZWxldGVCdXR0b24iLCJfY2FyZEltZyIsIl9oYW5kbGVDYXJkQ2xpY2siLCJjbG9zZXN0IiwiX2NhcmRMaWtlQnV0dG9uIiwiX2hhbmRsZUxpa2VDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFRlbXBsYXRlIiwiX2xpa2VzIiwibGlrZXMiLCJvd25lciIsIl9pZCIsIl9jYXJkSWQiLCJfaGFuZGxlRGVsZXRlSWNvbkNhcmQiLCJfY2FyZEVsZW1lbnQiLCJjbG9uZU5vZGUiLCJfbnVtYmVyTGlrZSIsImxlbmd0aCIsImlzTGlrZWQiLCJyZXN1bHQiLCJyZW5kZXJMaWtlcyIsInVzZXIiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkVGl0bGUiLCJfb3BlbkNhcmRJbWciLCJfY2FyZEJ1dHRvbkxpa2UiLCJfaW52aXNpYmxlRGVsdGVJY29uIiwiaGFuZGxlUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiRXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiQXBpIiwiY29uZmlnIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX3VybCIsInVybCIsIl9jb2hvcnQiLCJjb2hvcnQiLCJmZXRjaCIsInRoZW4iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImlucHV0RGF0YSIsInByb2ZpbGVfbmFtZSIsInByb2ZpbGVfb2NjdXBhdGlvbiIsImNhcmRJZCIsImVuYWJsZVZhbGlkYXRpb24iLCJteVVzZXJJZCIsImNvbnRlbnQiLCJwcm9maWxlRWRpdEJ1dHRvbiIsIm9wZW5BZGRDYXJkTW9kYWxCdXR0b24iLCJwcm9maWxlQXZhdGFyQnV0dG9uIiwidGl0bGVJbnB1dFZhbHVlIiwiZGVzY3JpcHRpb25JbnB1dFZhbHVlIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImNyZWF0ZUNhcmQiLCJwb3B1cEltYWdlIiwib3BlblBvcHVwIiwiY2FyZCIsInNldERlbGV0ZUxpa2VDYXJkIiwic2V0TGlrZXNJbmZvIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInNldExpa2VDYXJkIiwiZm9ybURlbGV0ZUNhcmQiLCJzZXRTdWJtaXRDYWxsYmFjayIsInNldERlbGV0ZUNhcmQiLCJkZWxldGVDYXJkIiwiZ2V0SW5mbyIsInJlbmRlckNhcmRMaXN0IiwiY2FyZEVsZW1lbnQiLCJnZXRDYXJkIiwiYWRkSXRlbSIsImZvcm1DYXJkIiwiY3JlYXRlVGFzayIsImNoYW5nZUF2YXRhciIsIm91dHB1dERhdGEiLCJzZXRBdmF0YXIiLCJlZGl0UHJvZmlsZSIsImNoYW5nZVVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJwb3B1cEF2YXRhciIsInBvcHVwUHJvZmlsZSIsInBvcHVwQ2FyZCIsInBvcHVwQnV0dG9uRGVsZXRlQ2FyZCIsInNldEV2ZW50TGlzdGVuZXIiLCJhbGwiLCJnZXRQcm9maWxlSW5mbyIsImdldFRhc2tzIiwiZGF0YVJlc3VsdCIsInNlcnZlckRhdGEiLCJyZW5kZXJJdGVtcyIsInVzZXJEYXRhIiwiZ2V0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyJdLCJtYXBwaW5ncyI6IjZMQUFxQkEsRSxXQUNwQixhQUEwQkMsR0FBTSxJQUFsQkMsRUFBa0IsRUFBbEJBLFUsNEZBQWtCLFNBQy9CQyxLQUFLQyxVQUFZRixFQUNqQkMsS0FBS0UsV0FBYUosRSxxREFHWEssR0FDUEgsS0FBS0UsV0FB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dCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG5cdGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgbGlzdCkge1xyXG5cdFx0dGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlclxyXG5cdFx0dGhpcy5fY29udGFpbmVyID0gbGlzdFxyXG5cdH1cclxuXHJcblx0YWRkSXRlbShlbGVtZW50KSB7XHJcblx0XHR0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KVxyXG5cdH1cclxuXHRyZW5kZXJJdGVtcyhkYXRhKSB7XHJcblx0XHRkYXRhLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRcdHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59IiwiY29uc3QgRVNDX0tFWUNPREUgPSAyN1xyXG5cclxuY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19mb3JtLWlucHV0JywgLy8g0L3QsNGF0L7QtNC40Lwg0LjQvdC/0YPRgtGLXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc2F2ZScsIC8vINC90LDRhdC+0LTQuNC8INC60L3QvtC/0LrRg1xyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zYXZlX2Rpc2FibGVkJywgLy8g0YHRgtC40LvRjCDQutC90L7Qv9C60Lggb2ZmXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsIC8vINGB0YLQuNC70Ywg0LrRgNCw0YHQvdC+0LUg0L/QvtC00YfQtdGA0LrQuNCy0LDQvdC40LUg0LjQvdC/0YPRgtC+0LJcclxuICAgIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZScgLy/RgdGC0LjQu9GMINC00LvRjyDQvtGI0LjQsdC60LhcclxufVxyXG5cclxuZXhwb3J0IHsgc2V0dGluZ3MsIEVTQ19LRVlDT0RFIH0iLCJpbXBvcnQgeyBFU0NfS0VZQ09ERSB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcclxuXHJcbmNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3RvcilcclxuICAgICAgICB0aGlzLnBvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBCdXR0b25DbG9zZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJyk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpXHJcbiAgICB9XHJcblxyXG4gICAgb3BlblBvcHVwKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW4nKVxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVBvcHVwKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuJylcclxuICAgICAgICB0aGlzLnBvcHVwRm9ybS5yZXNldCgpXHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gRVNDX0tFWUNPREUpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfbW9kYWxDbG9zZUNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBzZXRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgICAgIHRoaXMuX21vZGFsQ2xvc2VDbGljaygpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBCdXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgUG9wdXAgfSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKVxyXG5cclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdFxyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fZm9ybS1pbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpXHJcbiAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUnKVxyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICAvLyDQtNC+0YHRgtCw0ZHQvCDQstGB0LUg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0LvQtdC5XHJcbiAgICAgICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQsiDRjdGC0L7RgiDQvtCx0YrQtdC60YIg0LfQvdCw0YfQtdC90LjRjyDQstGB0LXRhSDQv9C+0LvQtdC5XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpdGVtLm5hbWVdID0gaXRlbS52YWx1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvQtdC5INGE0L7RgNC80YtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVBvcHVwKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpXHJcbiAgICAgICAgLy8gdGhpcy5fYnV0dG9uT2ZmKClcclxuICAgICAgICBzdXBlci5jbG9zZVBvcHVwKHRoaXMuX3BvcHVwKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zYXZlQnV0dG9uLmlkID09ICdEZWxldGUteWVzJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICfQlNCwJztcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NhdmVCdXR0b24uaWQgPT0gJ2NhcmRDcmVhdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0LfQtNCw0YLRjCc7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC40YLRjCc7XHJcbiAgICAgICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRTdWJtaXRDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBjYWxsYmFjaztcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcigpXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyTG9hZGluZyh0cnVlKVxyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0gIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGluZm9TZWxlY3RvciwgaW5mb0F2YXRhciB9KSB7XHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbmZvU2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5mb0F2YXRhcilcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICBjb25zdCBnZXRQcm9maWxlQ29udGVudCA9IHsgbmFtZTogdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50LCBsaW5rOiB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgfVxyXG4gICAgICAgIHJldHVybiBnZXRQcm9maWxlQ29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdmF0YXIoZm9ybURhdGEpIHtcclxuICAgICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IGZvcm1EYXRhLmF2YXRhclxyXG4gICAgfVxyXG4gICAgc2V0VXNlckluZm8oZm9ybURhdGEpIHtcclxuICAgICAgICB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSBmb3JtRGF0YS5uYW1lXHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZm9ybURhdGEuYWJvdXRcclxuICAgICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IGZvcm1EYXRhLmF2YXRhclxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3JcclxuICAgICAgICB0aGlzLl9wb3B1cE9wZW5JbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BvcHVwU2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWcgPSB0aGlzLl9wb3B1cE9wZW5JbWcucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBUaXRsZSA9IHRoaXMuX3BvcHVwT3BlbkltZy5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLXRpdGxlJylcclxuICAgIH1cclxuICAgIG9wZW5Qb3B1cChsaW5rLG5hbWUpIHsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1nLnNyYyA9IGxpbmtcclxuICAgICAgICB0aGlzLl9wb3B1cEltZy5hbHQgPSBuYW1lXHJcbiAgICAgICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IG5hbWVcclxuICAgICAgICBzdXBlci5vcGVuUG9wdXAoKVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1TZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXG4gICAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzc1xuICAgICAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzc1xuICAgICAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBmb3JtU2VsZWN0b3IgICAgICAgIFxuICAgIH1cblxuICAgIC8v0L/QtdGA0LXQsdC+0YAg0LjQvdC/0YPRgtC+0LJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSlcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKClcbiAgICAgICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyDQvtGC0L7QsdGA0LDQttC10L3QuNC1INCw0LrRgtC40LLQvdC+0YHRgtC4INC60L3QvtC/0LrQuCDQodC+0YXRgNCw0L3QuNGC0YxcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNWYWxpZElucHV0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDQv9GA0L7QstC10YDQutCwINC90LAg0LLQsNC70LjQtNC90L7RgdGC0Ywg0LjQvdC/0YPRgtC+0LJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2J1dHRvbk9mZiA9ICgpID0+IHtcbiAgICAgICAgaWYgKCEodGhpcy5fYnV0dG9uTmV3UGxhY2UuaWQgPT0gJ3BvcHVwUHJvZmlsZUVkaXQnKSkge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uTmV3UGxhY2UuY2xhc3NMaXN0LmFkZCgncG9wdXBfX3NhdmVfZGlzYWJsZWQnKVxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uTmV3UGxhY2UuZGlzYWJsZWQgPSB0cnVlXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG5cbiAgICAvLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQstC40LfRg9Cw0LvQuNC30LDRhtC40Lgg0L4g0L3QtdC/0YDQsNCy0LjQu9GM0L3QvtGB0YLQuCDQstCy0L7QtNCwINC/0L7Qu9GPXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYClcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKVxuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKVxuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlXG4gICAgfVxuXG4gICAgLy8g0YPQtNCw0LvQtdC90LjQtSDQstC40LfRg9Cw0LvQuNC30LDRhtC40Lgg0L4g0L3QtdC/0YDQsNCy0LjQu9GM0L3QvtGB0YLQuCDQstCy0L7QtNCwINC/0L7Qu9GPXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYClcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKVxuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKVxuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cblxuICAgIF9oYXNWYWxpZElucHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRzLnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyDQvtGC0L/RgNCw0LLQutCwINGE0L7RgNC80YtcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZm9ybVNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uTmV3UGxhY2UgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUtYnV0dG9uT2ZmJylcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbk9mZigpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkVGVtcGxhdGUsIG15SWQsIHsgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlQ2xpY2ssaGFuZGxlRGVsZXRlSWNvbkNhcmQgfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWVcclxuICAgICAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rXHJcbiAgICAgICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gY2FyZFRlbXBsYXRlO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGlja1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlc1xyXG4gICAgICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lci5faWRcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZFxyXG4gICAgICAgIHRoaXMuX215SWQgPSBteUlkXHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrXHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlSWNvbkNhcmQgPSBoYW5kbGVEZWxldGVJY29uQ2FyZFxyXG4gICAgfVxyXG5cclxuICAgIC8vINC90LDRhdC+0LTQuNC8INGE0L7RgNC80YMg0LIgdGVtcGxhdGUg0Lgg0LLQvtC30LLRgNCw0YnQsNC10Lwg0LXRkVxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDRg9Cx0LjRgNCw0LXQvCDQutC90L7Qv9C60YMg0YPQtNCw0LvQuNGC0Ywg0YMg0YHRgtC+0YDQvtC90L3QuNGFINC60LDRgNGC0L7Rh9C60LDRhSBcclxuICAgIF9pbnZpc2libGVEZWx0ZUljb24gPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCEodGhpcy5fbXlJZCA9PT0gdGhpcy5fb3duZXIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2FyZF9fYnV0dG9uLWRlbGV0ZV9pbnZpc2libGUnKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0YHQu9GD0YjQsNGC0LXQu9GPINC90LAg0L7RgtC60YDRi9GC0LjQtSDQutCw0YDRgtC40L3QutC4INC4INC+0YLQutGA0YvQstCw0LXQvCDQtdGRXHJcbiAgICBfb3BlbkNhcmRJbWcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKClcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vINGD0LTQsNC70Y/QtdC8INC90LDRiNGDINC60LDRgNGC0L7Rh9GDXHJcbiAgICBkZWxldGVDYXJkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24uY2xvc2VzdCgnLmNhcmQnKS5yZW1vdmUoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vINGB0YLQsNCy0LjQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9Cw0LnQutC+0LIsINC00L7QsdCw0LLQu9GP0LXQvC/Rg9C00LDQu9GP0LXQvCDQvtGC0LzQtdGC0LrRgyDQu9Cw0LnQutCwINC90LDRiC/QvdC1INC90LDRiFxyXG4gICAgcmVuZGVyTGlrZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fbnVtYmVyTGlrZS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aFxyXG4gICAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjYXJkX19idXR0b24tbGlrZV9hY3RpdmUnKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRfX2J1dHRvbi1saWtlX2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldExpa2VzSW5mbyhyZXN1bHQpIHtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IHJlc3VsdC5saWtlcztcclxuICAgICAgICB0aGlzLnJlbmRlckxpa2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0L/RgNC+0LLQtdGA0Y/QtdC8INGB0YLQsNCy0LjQu9C4INC70Lgg0LzRiyDQu9Cw0LnQulxyXG4gICAgaXNMaWtlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSh1c2VyID0+IHVzZXIuX2lkID09PSB0aGlzLl9teUlkKVxyXG4gICAgfVxyXG5cclxuICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDRgdC70YPRiNCw0YLQtdC70Y8g0L3QsCDQu9Cw0LnQuiDQutCw0YDRgtC40L3QutC4INC4INC80LXQvdGP0LXQvCDQtdCz0L5cclxuICAgIF9jYXJkQnV0dG9uTGlrZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlSWNvbkNhcmQodGhpcylcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgLy8g0LfQsNC/0L7Qu9C90Y/QtdC8INGE0L7RgNC80YMg0LLRhdC+0LTQvdGL0LzQuCDQtNCw0L3QvdGL0LzQuFxyXG4gICAgZ2V0Q2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKVxyXG4gICAgICAgIHRoaXMuX2NhcmRJbWcgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWcnKVxyXG4gICAgICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2Zvb3Rlci10aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZVxyXG4gICAgICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19idXR0b24tZGVsZXRlJylcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J1dHRvbi1saWtlJylcclxuICAgICAgICB0aGlzLl9udW1iZXJMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fcXVhbnRpdHktbGlrZScpXHJcbiAgICAgICAgdGhpcy5fY2FyZEltZy5zcmMgPSB0aGlzLl9saW5rXHJcbiAgICAgICAgdGhpcy5fY2FyZEltZy5hbHQgPSB0aGlzLl9uYW1lXHJcbiAgICAgICAgdGhpcy5fb3BlbkNhcmRJbWcoKVxyXG4gICAgICAgIHRoaXMuX2NhcmRCdXR0b25MaWtlKClcclxuICAgICAgICB0aGlzLnJlbmRlckxpa2VzKClcclxuICAgICAgICB0aGlzLl9pbnZpc2libGVEZWx0ZUljb24oKVxyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudFxyXG4gICAgfVxyXG59IiwiY29uc3QgaGFuZGxlUmVzcG9uc2UgPSAocmVzKSA9PiB7XHJcbiAgICBpZiAoIXJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfSAtICR7cmVzLnN0YXR1c1RleHR9YCkpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLmpzb24oKVxyXG59XHJcblxyXG5jbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzXHJcbiAgICAgICAgdGhpcy5fdXJsID0gY29uZmlnLnVybFxyXG4gICAgICAgIHRoaXMuX2NvaG9ydCA9IGNvbmZpZy5jb2hvcnRcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYXNrcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfSR7dGhpcy5fY29ob3J0fWNhcmRzYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSkudGhlbihoYW5kbGVSZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVUYXNrKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfSR7dGhpcy5fY29ob3J0fWNhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBkYXRhLmxpbmtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVVzZXJJbmZvKGlucHV0RGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9JHt0aGlzLl9jb2hvcnR9dXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBpbnB1dERhdGEucHJvZmlsZV9uYW1lLFxyXG4gICAgICAgICAgICAgICAgYWJvdXQ6IGlucHV0RGF0YS5wcm9maWxlX29jY3VwYXRpb25cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG4gICAgZ2V0UHJvZmlsZUluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0ke3RoaXMuX2NvaG9ydH11c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIHNldERlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0ke3RoaXMuX2NvaG9ydH1jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihoYW5kbGVSZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRMaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfSR7dGhpcy5fY29ob3J0fWNhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIHNldERlbGV0ZUxpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9JHt0aGlzLl9jb2hvcnR9Y2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlQXZhdGFyKGlucHV0RGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9JHt0aGlzLl9jb2hvcnR9dXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYXZhdGFyOiBpbnB1dERhdGEuYXZhdGFyLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgQXBpIH0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnXG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcydcbmltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cCc7XG5cbm5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCAnI3BvcHVwRm9ybVByb2ZpbGUnKS5lbmFibGVWYWxpZGF0aW9uKClcbm5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCAnI3BvcHVwRm9ybUNhcmQnKS5lbmFibGVWYWxpZGF0aW9uKClcbm5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCAnI3BvcHVwRm9ybUF2YXRhcicpLmVuYWJsZVZhbGlkYXRpb24oKVxuXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVtcGxhdGUtY2FyZCcpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmNhcmQnKTtcbmNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2xpc3RzJyk7XG4vLyDQmtC90L7Qv9C60Lgg0Lgg0LTRgNGD0LPQuNC1INGN0LvQtdC80LXQvdGC0YsgRE9NXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tY2hhbmdlJyk7XG5jb25zdCBvcGVuQWRkQ2FyZE1vZGFsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaWZpbGVfX2J1dHRvbi1hZGQnKTtcbmNvbnN0IHByb2ZpbGVBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uLWF2YXRhci1lZGl0Jyk7XG5cbi8vINCU0LDQvdC90YvQtSDRhNC+0YDQvNGLINC/0YDQvtGE0LDQudC70LBcbmNvbnN0IHRpdGxlSW5wdXRWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1pbnB1dF90eXBlX25hbWUnKTtcbmNvbnN0IGRlc2NyaXB0aW9uSW5wdXRWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1pbnB1dF90eXBlX29jY3VwYXRpb24nKTtcblxuLy8g0L7QsdGK0Y/QstC70Y/QtdC8INCz0LvQvtCx0LDQu9GM0L3Rg9GOINC/0LXRgNC10LzQtdC90L3Rg9GOINC00LvRjyDRgdCy0L7QtdCz0L4gSUQg0LrQsNGA0YLQvtGH0LXQulxubGV0IG15VXNlcklkXG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICAgIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvXCIsXG4gICAgY29ob3J0OiBcImNvaG9ydC0xNy9cIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246ICc0Yjg5ZWRlZi05YmUxLTQwMmUtYTVjNy05MTBhMTUwNGVlY2UnLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9XG59KVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcbiAgICByZXR1cm4gbmV3IENhcmQoaXRlbSwgY2FyZFRlbXBsYXRlLCBteVVzZXJJZCwge1xuICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHBvcHVwSW1hZ2Uub3BlblBvcHVwKGl0ZW0ubGluaywgaXRlbS5uYW1lKVxuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVMaWtlQ2xpY2s6IChjYXJkKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcbiAgICAgICAgICAgICAgICBhcGkuc2V0RGVsZXRlTGlrZUNhcmQoY2FyZC5fY2FyZElkKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnNldExpa2VzSW5mbyhyZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcGkuc2V0TGlrZUNhcmQoY2FyZC5fY2FyZElkKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnNldExpa2VzSW5mbyhyZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZURlbGV0ZUljb25DYXJkXG4gICAgfSlcbn1cblxuY29uc3QgaGFuZGxlRGVsZXRlSWNvbkNhcmQgPSAoZGF0YSkgPT4ge1xuICAgIGZvcm1EZWxldGVDYXJkLm9wZW5Qb3B1cCgpXG4gICAgZm9ybURlbGV0ZUNhcmQuc2V0U3VibWl0Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBhcGkuc2V0RGVsZXRlQ2FyZChkYXRhLl9jYXJkSWQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGF0YS5kZWxldGVDYXJkKCk7XG4gICAgICAgICAgICAgICAgZm9ybURlbGV0ZUNhcmQuY2xvc2VQb3B1cCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvcm1EZWxldGVDYXJkLnJlbmRlckxvYWRpbmcoZmFsc2UpXG4gICAgICAgICAgICB9KVxuICAgIH0pXG59XG5cbmNvbnN0IGdldEluZm8gPSBuZXcgVXNlckluZm8oeyBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsIGluZm9TZWxlY3RvcjogJy5wcm9maWxlX19vY2N1cGF0aW9uJywgaW5mb0F2YXRhcjogJy5wcm9maWxlX19hdmF0YXItaW1nJyB9KVxuXG5jb25zdCBmb3JtRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmQnXG59KVxuY29uc3QgcmVuZGVyQ2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2V0Q2FyZCgpXG4gICAgICAgIHJlbmRlckNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpXG4gICAgfVxufSwgbGlzdClcblxuY29uc3QgZm9ybUNhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gICAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX2FkZC1jYXJkJyxcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoaXRlbSkgPT4ge1xuICAgICAgICBhcGkuY3JlYXRlVGFzayhpdGVtKVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSlcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2V0Q2FyZCgpO1xuICAgICAgICAgICAgICAgIHJlbmRlckNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGZvcm1DYXJkLmNsb3NlUG9wdXAoKVxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3JtQ2FyZC5yZW5kZXJMb2FkaW5nKGZhbHNlKVxuICAgICAgICAgICAgfSlcbiAgICB9XG59KVxuXG5jb25zdCBjaGFuZ2VBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gICAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX2NoYW5nZS1hdmF0YXInLFxuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtRGF0YSkgPT4ge1xuICAgICAgICBhcGkuY2hhbmdlQXZhdGFyKGZvcm1EYXRhKVxuICAgICAgICAgICAgLnRoZW4ob3V0cHV0RGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgZ2V0SW5mby5zZXRBdmF0YXIob3V0cHV0RGF0YSlcbiAgICAgICAgICAgICAgICBjaGFuZ2VBdmF0YXIuY2xvc2VQb3B1cCgpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2hhbmdlQXZhdGFyLnJlbmRlckxvYWRpbmcoZmFsc2UpXG4gICAgICAgICAgICB9KVxuICAgIH1cbn0pXG5cbmNvbnN0IGVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICAgIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGUnLFxuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtRGF0YSkgPT4ge1xuICAgICAgICBhcGkuY2hhbmdlVXNlckluZm8oZm9ybURhdGEpXG4gICAgICAgICAgICAudGhlbihvdXRwdXREYXRhID0+IHtcbiAgICAgICAgICAgICAgICBnZXRJbmZvLnNldFVzZXJJbmZvKG91dHB1dERhdGEpXG4gICAgICAgICAgICAgICAgZWRpdFByb2ZpbGUuY2xvc2VQb3B1cCgpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZWRpdFByb2ZpbGUucmVuZGVyTG9hZGluZyhmYWxzZSlcbiAgICAgICAgICAgIH0pXG4gICAgfVxufSlcblxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXAoJy5wb3B1cF90eXBlX2NoYW5nZS1hdmF0YXInKVxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwKCcucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGUnKVxuY29uc3QgcG9wdXBDYXJkID0gbmV3IFBvcHVwKCcucG9wdXBfdHlwZV9hZGQtY2FyZCcpXG5jb25zdCBwb3B1cEJ1dHRvbkRlbGV0ZUNhcmQgPSBuZXcgUG9wdXAoJy5wb3B1cF90eXBlX2RlbGV0ZS1jYXJkJylcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF90eXBlX2ltYWdlJylcblxucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcigpXG5wb3B1cFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcigpXG5wb3B1cENhcmQuc2V0RXZlbnRMaXN0ZW5lcigpXG5wb3B1cEJ1dHRvbkRlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcigpXG5wb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXIoKVxuXG5cblByb21pc2UuYWxsKFthcGkuZ2V0UHJvZmlsZUluZm8oKSxhcGkuZ2V0VGFza3MoKV0pXG4gICAgLnRoZW4oKFtkYXRhUmVzdWx0LCBzZXJ2ZXJEYXRhXSkgPT4ge1xuICAgICAgICBteVVzZXJJZCA9IGRhdGFSZXN1bHQuX2lkO1xuICAgICAgICBnZXRJbmZvLnNldFVzZXJJbmZvKGRhdGFSZXN1bHQpXG4gICAgICAgIHJlbmRlckNhcmRMaXN0LnJlbmRlckl0ZW1zKHNlcnZlckRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG5cbi8v0YHQu9GD0YjQsNGC0LXQu9C4INC90LAg0L7RgtC60YDRi9GC0LjQtSDQvNC+0LTQsNC70L7Qulxub3BlbkFkZENhcmRNb2RhbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBmb3JtQ2FyZC5vcGVuUG9wdXAoKVxufSlcblxucHJvZmlsZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjaGFuZ2VBdmF0YXIub3BlblBvcHVwKClcbn0pXG5cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGVkaXRQcm9maWxlLm9wZW5Qb3B1cCgpXG4gICAgY29uc3QgdXNlckRhdGEgPSBnZXRJbmZvLmdldFVzZXJJbmZvKClcbiAgICB0aXRsZUlucHV0VmFsdWUudmFsdWUgPSB1c2VyRGF0YS5uYW1lXG4gICAgZGVzY3JpcHRpb25JbnB1dFZhbHVlLnZhbHVlID0gdXNlckRhdGEubGlua1xufSlcblxuZm9ybURlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuY2hhbmdlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKClcbmVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKClcbmZvcm1DYXJkLnNldEV2ZW50TGlzdGVuZXJzKClcblxuZXhwb3J0IHsgYXBpIH0iXSwic291cmNlUm9vdCI6IiJ9